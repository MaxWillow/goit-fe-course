(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("L1EO");var i=n("dIfx");n("mNaS"),n("IlkV");n("JBxO"),n("FdtR");var r;n("D/wG");function o(e){var t={weatherStatus:document.querySelector("#weather"),weatherIcon:document.querySelector(".icon"),location:document.querySelector('span[data-field="location"]'),temperature:document.querySelector('span[data-field="temp"]'),humidity:document.querySelector('span[data-field="humidity"]'),wind:document.querySelector('span[data-field="wind"]'),conditions:document.querySelector('span[data-field="conditions"]')},n="http://api.weatherstack.com/current",i="76f52b79ada08087aad4412affff8aa1";if("object"==typeof e)return fetch(n+"?access_key="+i+"&query="+e.latitude+","+e.longitude).then(function(e){return e.json()}).then(function(e){return r(e)});if("string"==typeof e)return fetch(n+"?access_key="+i+"&query="+e).then(function(e){return e.json()}).then(function(e){return r(e)});function r(e){t.location.innerHTML=e.location.name,t.temperature.innerHTML=e.current.temperature+"&#8451",t.humidity.innerHTML=e.current.humidity+"%",t.wind.innerHTML=e.current.wind_speed+" kph",t.conditions.innerHTML=e.current.weather_descriptions,t.weatherIcon.src=e.current.weather_icons,t.weatherIcon.alt=e.current.weather_descriptions,t.weatherStatus.classList.remove("is-hidden")}}(r={timeout:5e3,maximumAge:18e5},new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t,r)})).then(function(e){return{latitude:e.coords.latitude,longitude:e.coords.longitude}}).then(function(e){o(e)}).catch(function(e){i.a.defaults.styling="material",i.a.defaults.icons="material",i.a.alert("Нет прав доступа к геопозиции, используйте поиск по имени города.")});var u,a={input:document.querySelector('input[name="city"]'),button:document.querySelector('button[type="submit"]')};a.input.addEventListener("input",function(){u=a.input.value}),a.button.addEventListener("click",function(e){e.preventDefault(),o(u),a.input.value=""})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.8244871cf46c2fe2624a.js.map