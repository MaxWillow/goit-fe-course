{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./js/index.js","webpack:///./templates/img_card_template.hbs"],"names":["page","query","fetchImages","requestParams","this","fetch","then","response","json","parsedData","incrementPage","hits","string","resetPage","PNotify","defaults","styling","icons","delay","info","refs","form","document","querySelector","galleryList","btnLoadMore","renderMarkup","fetchImagesService","data","item","galleryMarkup","success","galleryItemsTemplate","insertAdjacentHTML","catch","error","setAttribute","addEventListener","event","preventDefault","input","currentTarget","elements","searchQuery","value","innerHTML","removeAttribute","lastChild","lastElementChild","window","scroll","behavior","scrollIntoView","e","target","basicLightbox","dataset","source","show","Handlebars","module","exports","template","container","depth0","helpers","partials","propertyIsEnumerable","helper","alias2","nullContext","alias3","hooks","helperMissing","alias4","alias5","escapeExpression","webformatURL","call","largeImageURL","likes","views","comments","downloads","stack1","each","program","noop"],"mappings":"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","file":"main.74bb8b9b8720142309bd.js","sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\r\nconst KEY = '14260445-94202652c4e141397bd31e336';\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n\r\n  fetchImages() {\r\n    const requestParams = `?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=`;\r\n\r\n    return fetch(BASE_URL + requestParams + KEY)\r\n      .then(response => response.json())\r\n      .then(parsedData => {\r\n        this.incrementPage();\r\n        return parsedData.hits;\r\n      });\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import '../css/styles.css';\n\nimport fetchImagesService from './apiService.js';\nimport galleryItemsTemplate from '../templates/img_card_template.hbs';\n\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons.js';\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\nimport * as basicLightbox from 'basiclightbox';\nimport InfiniteScroll from 'infinite-scroll';\n\nPNotify.defaults.styling = 'material';\nPNotify.defaults.icons = 'material';\nPNotify.defaults.delay = 2500;\n\nPNotify.info(\n  'Hi! Please enter in a form what kind of pictures you want to find.',\n);\n\nconst refs = {\n  form: document.querySelector('#search-form'),\n  galleryList: document.querySelector('.gallery'),\n  btnLoadMore: document.querySelector('button[name=\"load-more\"]'),\n};\n\nrefs.btnLoadMore.setAttribute('disabled', true);\n\nrefs.form.addEventListener('submit', handleSubmit);\nrefs.btnLoadMore.addEventListener('click', handleClick);\nrefs.galleryList.addEventListener('click', handleGalleryClick);\n\nfunction handleGalleryClick(e) {\n  if (e.target === e.currentTarget) return;\n  basicLightbox.create(`<img src=\"${e.target.dataset.source}\">`).show();\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const input = event.currentTarget.elements.query;\n\n  fetchImagesService.searchQuery = input.value;\n  clearGalleryList();\n  fetchImagesService.resetPage();\n  renderMarkup();\n  refs.btnLoadMore.removeAttribute('disabled');\n\n  input.value = '';\n}\n\nfunction handleClick() {\n  renderMarkup();\n\n  const lastChild = refs.galleryList.lastElementChild;\n\n  window.scroll({\n    behavior: 'smooth',\n  });\n\n  lastChild.scrollIntoView();\n}\n\nfunction createGalleryItemsMarkup(item) {\n  const galleryMarkup = galleryItemsTemplate(item);\n  refs.galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n}\n\nfunction renderMarkup() {\n  fetchImagesService\n    .fetchImages()\n    .then(data => {\n      PNotify.success('Take these wonderful pic');\n      createGalleryItemsMarkup(data);\n    })\n    .catch(error => {\n      PNotify.error('Something went wrong');\n    });\n}\n\nfunction clearGalleryList() {\n  refs.galleryList.innerHTML = '';\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.propertyIsEnumerable, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", alias5=container.escapeExpression;\n\n  return \"<li>\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <img src=\\\"\"\n    + alias5(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" data-source=\\\"\"\n    + alias5(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"360\\\" height=\\\"360\\\" class=\\\"card-img\\\" />\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\"\n    + alias5(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"likes\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\"\n    + alias5(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"views\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\"\n    + alias5(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"comments\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\"\n    + alias5(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"downloads\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n                <i class=\\\"material-icons\\\">save_alt</i>\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}